[gd_scene load_steps=17 format=2]

[ext_resource path="res://Scenes/Guns/BasicPistol.tscn" type="PackedScene" id=1]
[ext_resource path="res://Scenes/Player.tscn" type="PackedScene" id=2]
[ext_resource path="res://Scenes/Maps/Bedrock.gd" type="Script" id=3]
[ext_resource path="res://Scenes/WorldObjects/FloorCeiling.tscn" type="PackedScene" id=4]
[ext_resource path="res://Scenes/WorldObjects/Wall.tscn" type="PackedScene" id=5]
[ext_resource path="res://Scenes/WorldObjects/DoorWall.tscn" type="PackedScene" id=6]
[ext_resource path="res://Scenes/WorldObjects/WindowWall.tscn" type="PackedScene" id=7]
[ext_resource path="res://Scenes/WorldObjects/Ramp.tscn" type="PackedScene" id=8]
[ext_resource path="res://Scenes/WorldObjects/Crate.tscn" type="PackedScene" id=9]
[ext_resource path="res://Scenes/Guns/AK.tscn" type="PackedScene" id=10]
[ext_resource path="res://Scenes/Guns/M16.tscn" type="PackedScene" id=12]
[ext_resource path="res://Scenes/Guns/TestGun.tscn" type="PackedScene" id=13]
[ext_resource path="res://Scenes/Guns/AUG.tscn" type="PackedScene" id=14]
[ext_resource path="res://Scenes/Maps/TestMap.gd" type="Script" id=15]

[sub_resource type="BoxShape" id=1]
extents = Vector3( 56.8635, 1, 73.2004 )

[sub_resource type="NavigationMesh" id=2]
vertices = PoolVector3Array( 1.9, 1.9, 10.9, 4.9, 1.9, 12.9, 5.9, 1.9, 10.9, 6.9, 1.9, 3.9, -1.1, 1.9, 3.9, 2.9, 1.9, -5.1, -1.1, 1.9, -5.1, -1.1, 1.9, 0.9, 7.9, 1.9, 0.9, -1.1, 1.9, 3.9, -1.1, 1.9, 11.9, 1.9, 1.9, 10.9, 9.9, 1.9, 10.9, 10.9, 1.9, 12.9, 18.9, 1.9, 12.9, 18.9, 1.9, 2.9, 15.9, 1.9, 3.9, 10.9, 1.9, -7.1, 3.9, 1.9, -7.1, 2.9, 1.9, -5.1, 10.9, 1.9, -7.1, 2.9, 1.9, -5.1, 7.9, 1.9, 0.9, 16.9, 1.9, 1.9, 18.9, 1.9, -7.1, 16.9, 1.9, 1.9, 18.9, 1.9, 2.9, 18.9, 1.9, -7.1, 16.9, 1.9, 1.9, 15.9, 1.9, 3.9, 18.9, 1.9, 2.9, 6.9, 1.9, 3.9, 5.9, 1.9, 10.9, 9.9, 1.9, 10.9, 15.9, 1.9, 3.9 )
polygons = [ PoolIntArray( 1, 0, 2 ), PoolIntArray( 2, 0, 3 ), PoolIntArray( 3, 0, 4 ), PoolIntArray( 6, 5, 7 ), PoolIntArray( 7, 5, 8 ), PoolIntArray( 10, 9, 11 ), PoolIntArray( 13, 12, 14 ), PoolIntArray( 14, 12, 16 ), PoolIntArray( 14, 16, 15 ), PoolIntArray( 19, 18, 17 ), PoolIntArray( 21, 20, 22 ), PoolIntArray( 22, 20, 23 ), PoolIntArray( 23, 20, 24 ), PoolIntArray( 27, 26, 25 ), PoolIntArray( 30, 29, 28 ), PoolIntArray( 32, 31, 33 ), PoolIntArray( 33, 31, 34 ) ]
cell/size = 1.0
cell/height = 1.0
agent/radius = 0.5
filter/ledge_spans = true

[node name="TestMap" type="Spatial"]
script = ExtResource( 15 )

[node name="Player" parent="." instance=ExtResource( 2 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.00461, 0 )

[node name="Area" type="Area" parent="."]
script = ExtResource( 3 )

[node name="CollisionShape" type="CollisionShape" parent="Area"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -95.2412, 0 )
shape = SubResource( 1 )

[node name="Lights" type="Spatial" parent="."]

[node name="OmniLight" type="OmniLight" parent="Lights"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 6.00762, 5.41086, -3.02144 )
shadow_enabled = true
omni_range = 8.2
omni_attenuation = 1.36604

[node name="OmniLight2" type="OmniLight" parent="Lights"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 13.0076, 5.41086, 7.97856 )
shadow_enabled = true
omni_range = 8.2
omni_attenuation = 1.36604

[node name="DoorWall" parent="." instance=ExtResource( 6 )]
transform = Transform( -4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 18, 3, 2 )

[node name="Guns" type="Spatial" parent="."]

[node name="AK" parent="Guns" instance=ExtResource( 10 )]
transform = Transform( -3.5766e-08, -0.81823, -0.574891, 1, -4.37114e-08, 0, -2.51293e-08, -0.574891, 0.81823, -1.47955, 2.17893, -7.1604 )

[node name="BasicPistol" parent="Guns" instance=ExtResource( 1 )]
transform = Transform( -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0, 0, 1, -0.546487, 2.15944, -7.15692 )

[node name="AUG" parent="Guns" instance=ExtResource( 14 )]
transform = Transform( -4.33283e-08, -0.991236, 0.132101, 1, -4.37114e-08, 0, 5.77431e-09, 0.132101, 0.991236, 0.315043, 2.11595, -7.2814 )

[node name="M16" parent="Guns" instance=ExtResource( 12 )]
transform = Transform( -4.00433e-08, 0.916083, 0.400989, -1, -4.37114e-08, 0, 1.75278e-08, -0.400989, 0.916083, 1.41273, 2.15186, -7.33876 )

[node name="TestGun" parent="Guns" instance=ExtResource( 13 )]
transform = Transform( 2.83459e-08, -0.648479, 0.761233, -1, -4.37114e-08, 0, 3.32745e-08, -0.761233, -0.648479, 2.08547, 2.16182, -7.6866 )

[node name="Navigation" type="Navigation" parent="."]

[node name="NavigationMeshInstance" type="NavigationMeshInstance" parent="Navigation"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.0158463, 0, 0.0134878 )
navmesh = SubResource( 2 )

[node name="Floors and Walls" type="Spatial" parent="Navigation/NavigationMeshInstance"]

[node name="StaticBody" parent="Navigation/NavigationMeshInstance/Floors and Walls" instance=ExtResource( 4 )]

[node name="StaticBody2" parent="Navigation/NavigationMeshInstance/Floors and Walls" instance=ExtResource( 4 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 6, 0, 0 )

[node name="StaticBody3" parent="Navigation/NavigationMeshInstance/Floors and Walls" instance=ExtResource( 4 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -6 )

[node name="StaticBody4" parent="Navigation/NavigationMeshInstance/Floors and Walls" instance=ExtResource( 4 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 6, 0, -6 )

[node name="StaticBody5" parent="Navigation/NavigationMeshInstance/Floors and Walls" instance=ExtResource( 4 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 12, 0, 0 )

[node name="StaticBody6" parent="Navigation/NavigationMeshInstance/Floors and Walls" instance=ExtResource( 4 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 18, 0, 0 )

[node name="StaticBody7" parent="Navigation/NavigationMeshInstance/Floors and Walls" instance=ExtResource( 4 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 12, 0, -6 )

[node name="StaticBody8" parent="Navigation/NavigationMeshInstance/Floors and Walls" instance=ExtResource( 4 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 18, 0, -6 )

[node name="StaticBody9" parent="Navigation/NavigationMeshInstance/Floors and Walls" instance=ExtResource( 4 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 12 )

[node name="StaticBody10" parent="Navigation/NavigationMeshInstance/Floors and Walls" instance=ExtResource( 4 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 6, 0, 12 )

[node name="StaticBody11" parent="Navigation/NavigationMeshInstance/Floors and Walls" instance=ExtResource( 4 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 6 )

[node name="StaticBody12" parent="Navigation/NavigationMeshInstance/Floors and Walls" instance=ExtResource( 4 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 6, 0, 6 )

[node name="StaticBody13" parent="Navigation/NavigationMeshInstance/Floors and Walls" instance=ExtResource( 4 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 12, 0, 12 )

[node name="StaticBody14" parent="Navigation/NavigationMeshInstance/Floors and Walls" instance=ExtResource( 4 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 18, 0, 12 )

[node name="StaticBody15" parent="Navigation/NavigationMeshInstance/Floors and Walls" instance=ExtResource( 4 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 12, 0, 6 )

[node name="StaticBody16" parent="Navigation/NavigationMeshInstance/Floors and Walls" instance=ExtResource( 4 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 18, 0, 6 )

[node name="StaticBody25" parent="Navigation/NavigationMeshInstance/Floors and Walls" instance=ExtResource( 4 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 6, 6 )

[node name="Wall" parent="Navigation/NavigationMeshInstance/Floors and Walls" instance=ExtResource( 5 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -3, 3, -6 )

[node name="Wall2" parent="Navigation/NavigationMeshInstance/Floors and Walls" instance=ExtResource( 5 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -3, 3, 0 )

[node name="Wall4" parent="Navigation/NavigationMeshInstance/Floors and Walls" instance=ExtResource( 5 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -3, 3, 12 )

[node name="Wall5" parent="Navigation/NavigationMeshInstance/Floors and Walls" instance=ExtResource( 5 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 21, 3, -6 )

[node name="Wall6" parent="Navigation/NavigationMeshInstance/Floors and Walls" instance=ExtResource( 5 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 21, 3, 0 )

[node name="Wall7" parent="Navigation/NavigationMeshInstance/Floors and Walls" instance=ExtResource( 5 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 21, 3, 6 )

[node name="Wall8" parent="Navigation/NavigationMeshInstance/Floors and Walls" instance=ExtResource( 5 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 21, 3, 12 )

[node name="Wall10" parent="Navigation/NavigationMeshInstance/Floors and Walls" instance=ExtResource( 5 )]
transform = Transform( -4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 12, 3, 2 )

[node name="Wall11" parent="Navigation/NavigationMeshInstance/Floors and Walls" instance=ExtResource( 5 )]
transform = Transform( -4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 6, 3, 2 )

[node name="Wall12" parent="Navigation/NavigationMeshInstance/Floors and Walls" instance=ExtResource( 5 )]
transform = Transform( -4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, -9.53674e-07, 3, 2 )

[node name="Wall13" parent="Navigation/NavigationMeshInstance/Floors and Walls" instance=ExtResource( 5 )]
transform = Transform( -4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 12, 3, -9 )

[node name="Wall14" parent="Navigation/NavigationMeshInstance/Floors and Walls" instance=ExtResource( 5 )]
transform = Transform( -4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 18, 3, -9 )

[node name="Wall15" parent="Navigation/NavigationMeshInstance/Floors and Walls" instance=ExtResource( 5 )]
transform = Transform( -4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, -9.53674e-07, 3, -9 )

[node name="WindowWall" parent="Navigation/NavigationMeshInstance/Floors and Walls" instance=ExtResource( 7 )]
transform = Transform( -4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 6, 3, -9 )

[node name="Wall16" parent="Navigation/NavigationMeshInstance/Floors and Walls" instance=ExtResource( 5 )]
transform = Transform( -4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 6, 3, 15 )

[node name="Wall17" parent="Navigation/NavigationMeshInstance/Floors and Walls" instance=ExtResource( 5 )]
transform = Transform( -4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -1.90735e-06, 3, 15 )

[node name="Wall18" parent="Navigation/NavigationMeshInstance/Floors and Walls" instance=ExtResource( 5 )]
transform = Transform( -4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 18, 3, 15 )

[node name="WindowWall3" parent="Navigation/NavigationMeshInstance/Floors and Walls" instance=ExtResource( 7 )]
transform = Transform( -4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 12, 3, 15 )

[node name="WindowWall2" parent="Navigation/NavigationMeshInstance/Floors and Walls" instance=ExtResource( 7 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -3, 3, 6 )

[node name="StaticBody17" parent="Navigation/NavigationMeshInstance/Floors and Walls" instance=ExtResource( 4 )]
transform = Transform( -2.82604e-08, 0, -0.646522, 0, 1, 0, 1, 0, -4.37114e-08, -0.99105, 6.00423, 11.9291 )

[node name="StaticBody27" parent="Navigation/NavigationMeshInstance/Floors and Walls" instance=ExtResource( 8 )]
transform = Transform( -4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 9, 0, 13.4199 )

[node name="FurnitureObjects" type="Spatial" parent="Navigation/NavigationMeshInstance"]

[node name="Crate" parent="Navigation/NavigationMeshInstance/FurnitureObjects" instance=ExtResource( 9 )]
transform = Transform( 2.43898, 0, 0, 0, 1, 0, 0, 0, 1, 0.0976033, 1.08812, -7.49021 )

[node name="SpawnPoint" type="Spatial" parent="Navigation"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 2.712, 2, 7.186 )

[node name="SpawnTimer" type="Timer" parent="Navigation"]
wait_time = 2.0
autostart = true
[connection signal="body_entered" from="Area" to="Area" method="_on_Area_body_entered"]
[connection signal="timeout" from="Navigation/SpawnTimer" to="." method="_on_SpawnTimer_timeout"]
